<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>협력 업체 리스트</title>
    <link rel="stylesheet" th:href="@{/css/procuOneHeader.css}">
</head>
<body>
<!-- 헤더 -->
<div th:replace="partials/procuOneHeader :: header"></div>

<div>
    <table>
        <thead>
        <tr>
            <th>Business ID</th>
            <th>Company Name</th>
            <th>Address</th>
            <th>Manager</th>
            <th>Phone</th>
            <th>Email</th>
            <th>Account</th>
        </tr>
        </thead>
        <tbody>
        <!-- companyList 반복문으로 리스트 출력 -->
        <tr th:each="company : ${companyList}" data-business-id="[[${company.businessId}]]" class="clickable-row">
        <td th:text="${company.businessId}"></td> <!-- businessId 출력 -->
        <td th:text="${company.comName}"></td> <!-- comName 출력 -->
        <td th:text="${company.comAdd}"></td> <!-- comAdd 출력 -->
        <td th:text="${company.comManage}"></td> <!-- comManage 출력 -->
        <td th:text="${company.comPhone}"></td> <!-- comPhone 출력 -->
        <td th:text="${company.comEmail}"></td> <!-- comEmail 출력 -->
        <td th:text="${company.comAccount}"></td> <!-- comAccount 출력 -->
        </tr>
        </tbody>
    </table>
</div>

<script>
    document.querySelectorAll('.clickable-row').forEach(function(row) {
        row.addEventListener('click', function() {
            const businessId = row.getAttribute('data-business-id');
            window.location.href = '/companyDetail/' + businessId;  // 클릭한 행의 Business ID로 이동
        });
    });
</script>
</body>
</html>